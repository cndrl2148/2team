<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
  layout:decorator="@{layout/default}">
<th:block layout:fragment="customCss">
	<!-- Bootstrap Select Css -->
    <link href="/plugins/bootstrap-select/css/bootstrap-select.css" rel="stylesheet" />
 	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
</th:block>

 <th:block layout:fragment="customTitle">
 </th:block> 

 <th:block layout:fragment="customHeadScript">
		<!-- Latest compiled and minified JavaScript -->
	<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script> -->

	<!-- (Optional) Latest compiled and minified JavaScript translation files -->
	<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/i18n/defaults-*.min.js"></script -->

	<script type="text/javascript" src="/plugins/jquery/jquery.min.js"></script>
</th:block> 
 <th:block layout:fragment="customContents">
 	 <!-- 유기동물 발견신고 -->
 <!-- Basic Validation -->
     <section class="content">
        <div class="container-fluid">
            <div class="row clearfix">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="card">
                        <div class="header">
                            <h2> 발견신고 상세보기</h2>
                        </div>
                        <div class="body">
                            <form id="form_validation" action="#" method="POST">
                           		<div class="row">
                               		<div class="col-md-4">
										<div class="form-group">
                                    		<div class="form-line">
                                       			<label >작성자 아이디
                                        			<input type="text" class="form-control" name="memberId" readonly="readonly" th:text="${SearchAnimalDetail.member.memberId}">
                                    			</label>
                                    		</div>
										</div>
                               		</div>	
                               		<div class="col-md-4">
										<div class="form-group">
                                    		<div class="form-line">
                                       			<label >신고코드
                                        			<input type="text" class="form-control" name="memberId" readonly="readonly" th:text="${SearchAnimalDetail.searchReportCode}">
                                    			</label>
                                    		</div>
										</div>
                               		</div>
                               	</div>
                               	<div class="row">
                               		<div class="col-md-4">
                       					<div class="form-group" th:if="${SearchAnimalDetail.searchReportOutDate==null}" style="display:none;">
                                   			<div class="form-line">
                                        		<label>신고 취소 날짜 
                                            		<input id="deldate" type="text" name="searchReportOutDate"class="form-control" th:value="${SearchAnimalDetail.searchReportOutDate}">
                                       			</label>
                                    		</div>
                                     	</div>
                        			</div>
                           			<div class="col-md-4">
                           				<div class="form-group" th:if="${SearchAnimalDetail.searchReportOutDate!=null}" style="display:block;">
                                      		<div class="form-line">
                                        		<label>신고 취소 날짜
                                            		<input id="deldate" type="text" name="searchReportOutDate"class="form-control" th:value="${SearchAnimalDetail.searchReportOutDate}">
                                        		</label>
                                        	</div>
                                    	</div>   
                                    </div>
                           			<div class="col-md-4">
                                    	<div class="form-group">
                                        	<div class="form-line">
                                        		<label>발견한 날짜
                                            		<input id="finddate" type="date" name="searchReportInDate"class="form-control" readonly="readonly" th:value="${SearchAnimalDetail.searchReportInDate}">
                                        		</label>
                                        	</div>
                                        
                                    	</div>
                                	</div>
                                </div>
                             	<div class="col-md-12">
                                	<div class="form-group">
                                		<div class="form-line">
                                    		<label>발견장소
                                        		<input id="findlocation" type="text" class="form-control" name="animalLocation" th:value="${SearchAnimalDetail.animalLocation}" readonly="readonly">
                                        	</label>
                                    	</div>
                                	</div>
                              	</div>
	                         	<div class="col-md-12">
                                	<div class="form-group">
                                  	<div id="genderradio" class="font-bold col-teal">성별</div>
                                    
                                    	<input th:if="${SearchAnimalDetail.animalGender}=='숫컷'" checked="checked" readonly="readonly" type="radio" name="animalGender" id="male" value="수컷" class="with-gap">
                                    		<label for="male">수컷</label>
										<input th:if="${SearchAnimalDetail.animalGender}=='암컷'" checked="checked"  type="radio" name="animalGender" readonly="readonly" id="female" value="암컷" class="with-gap" >
                                    		<label for="female" class="m-l-20">암컷</label>
                                   
                                    	<input th:if="${SearchAnimalDetail.animalGender}=='중성화'"  checked="checked" type="radio" name="animalGender" readonly="readonly" id="middle" value="중성화" class="with-gap">
                                    		<label for="middle" class="m-l-20">중성화</label>
                                	</div>
                            	</div>
                            	<div class="col-md-12">    
                                	<div class="form-group form-float">
                                    	<div class="form-line">
                                   			<label>발견정황에 대해 간단히 서술해주세요
                                        		<textarea id="detail" name="animalDetail" cols="30" rows="5" class="form-control no-resize" th:text="${SearchAnimalDetail.animalDetail}" readonly="readonly"></textarea>
                                        	</label>
                                    	</div>
                                	</div>
                             	</div> 
                             	<div class="row">  
	                             	<div class="col-md-6">
	                               		<p>
	                                   		<b>동물종류</b>
	                               		</p>
	                                    <input type="text" readonly="readonly" th:value="${SearchAnimalDetail.animalType.animalType}">
	                                </div>
	                               	<div class="col-md-6">
		                                 <p>
		                                 	<b>축종</b>
		                                 </p>
		                                <input type="text" readonly="readonly" th:value="${SearchAnimalDetail.animalType.animalTypeSub}">
		                            </div>
		                        </div>    
	                            <div class="row">
                        			<div class="row m-t-10">
	           							<div class="col-xs-6 col-md-3">
	                       					 <a href="javascript:void(0);" class="thumbnail">
	                        					<img th:src="'/files/' + ${SearchAnimalDetail.animalPicture}" class="img-responsive">
	                        				 </a>
	                    				</div>
	           						</div>
		                       	</div>
                              	<div class="align-center" th:if="${SearchAnimalDetail.searchReportOutDate==null}">
				            		<a class="delete" th:data-myurl="'/reportlist/searchReportCancel?searchReportCode=' + ${SearchAnimalDetail.searchReportCode}" href="javascript:void(0)">
				            			<button class="btn btn-primary waves-effect" type="button" id="cancel">분실신고취소</button>
				            		</a>							            	
							 	</div>
                          	</form>
    					</div>
                    </div>
	         	</div>
	     	</div>
	  	</div>
	</section>     
            <!-- #END# Basic Validation -->
 </th:block> 

<th:block layout:fragment="customFooterScript">
		<!-- Jquery DataTable Plugin Js -->
    <script src="/plugins/jquery-datatable/jquery.dataTables.js"></script>
    <script src="/plugins/jquery-datatable/skin/bootstrap/js/dataTables.bootstrap.min.js"></script>
    <script src="/plugins/jquery-datatable/extensions/export/dataTables.buttons.min.js"></script>
    <script src="/plugins/jquery-datatable/extensions/export/buttons.flash.min.js"></script>
    <script src="/plugins/jquery-datatable/extensions/export/jszip.min.js"></script>
    <script src="/plugins/jquery-datatable/extensions/export/pdfmake.min.js"></script>
    <script src="/plugins/jquery-datatable/extensions/export/vfs_fonts.js"></script>
    <script src="/plugins/jquery-datatable/extensions/export/buttons.html5.min.js"></script>
    <script src="/plugins/jquery-datatable/extensions/export/buttons.print.min.js"></script>
    <script>
    	$(function(){
    		//이미지 깨짐
			$('img').on("error",function(){
				$(this).attr('src','http://placehold.it/500x300');
			});
    		
    		$('.delete').click(function(){
    			swal('신고취소하시겠습니까?', {
					title:'경고',
					icon:'error',
					buttons: true,
				})
    			.then((foodDelete) => {
    				var val = $(this).data('myurl');
    				console.log(val);
    				if(foodDelete){
    					swal("정말로 신고를 취소 하시겠습니까? 신고취소시 읽기모드로 변경됩니다", {
    							title: '확인',
    					      	icon: "warning",
    					      	buttons: true,
    					    })
    					    .then((value) => {
    					    	if(value) location.href = val;
    					    });
    				}else{
    					console.log('취소');
    				}
    			});
    		});
    		
    		$('#dataTable').dataTable({
    			"aaSorting": []
    		});
    	});
    </script>
</th:block>
 
</html>