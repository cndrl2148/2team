<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
  layout:decorator="@{layout/default2}">
	
<th:block layout:fragment="customTitle">
</th:block> 

<th:block layout:fragment="customContents">
	<section class="content">
		<div class="container-fluid">
			<div class="block-header">
                <h2>
					유기동물보호
                </h2>
            </div>
            
			<div class="card">
				<div class="header">
					수정
				</div>
				<div class="body">
					<form action="/animalProtection" method="POST">
						<div class="input-group">
	                        <div class="form-line">
								보호공간
	                            <input type="text" class="form-control" name="protectSpaceCode" th:value="${ptSpace.protectSpaceCode}" readonly="readonly">
	                        </div>
						</div>
	                    <div class="input-group">
	                        <div class="form-line">
								센터등록된 유기동물번호
	                            <!-- <input id="petName" type="text" class="form-control" name="animalInsertCode" placeholder="유기동물이름" th:value="${ptSpace.animalProtect.animalInsertCode}">
	                            <button type="button" id="btnNamePet" class="btn btn-block bg-green waves-effect">동물이름중복</button> -->
	                            <div>
		                            <select name="animalInsertCode">
		                            	<option th:each="l : ${acl}" th:value="${l.animalInsertCode}" th:text="${l.animalCenterNumber}" th:if="${l.animalInsertCode}==${ptSpace.animalInsertCode}" th:selected="selected"></option>
		                            	<option th:each="l : ${acl}" th:value="${l.animalInsertCode}" th:text="${l.animalCenterNumber}" th:unless="${l.animalInsertCode}==${ptSpace.animalInsertCode}"></option>
		                            </select>
	                            </div>
	                        </div>
						</div>
						
						<div class="input-group">
							<div class="form-line">
								보호상태
								<div>
									<select name="state">
										<option value="보호중">-- 보호중 --</option>
										<option value="특별보호">-- 특별보호 --</option>
									</select>
								</div>
							</div>
						</div>
						<div class="input-group">
	                        <div class="form-line">
								보호기간
	                            <input type="number" class="form-control" name="protectDate" placeholder="보호기간" th:value="${dDay}">
	                        </div>
						</div>
						
                        <button class="btn btn-block bg-amber waves-effect" type="submit">유기동물보호수정</button>
                        
                	</form>
				</div>
			</div>
			
		
		</div>
	</section>
</th:block> 

<th:block layout:fragment="customHeadScript">
</th:block> 

<th:block layout:fragment="customCss">
	<link href="../../plugins/multi-select/css/multi-select.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
</th:block>

<th:block layout:fragment="customFooterScript">
<script>
	$(function(){
		$('#btnNamePet').click(function(){
			var btnNamePet = $('#petName').val();
			var request = $.ajax({
				url: "/insertCodeCheck",
				method: "POST",
				data: { "btnNamePet" : btnNamePet },
				dataType: "text"
			});
			 
			request.done(function( msg ) {
				console.log(msg);
				alert(JSON.stringify(msg));
			});
			 
			request.fail(function( jqXHR, textStatus ) {
				alert( "Request failed: " + textStatus );
			});
		});
	});
</script>
</th:block>
 
</html>